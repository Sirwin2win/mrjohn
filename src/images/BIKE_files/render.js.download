(()=>{(()=>{var j={39:t=>{"use strict";t.exports=React},171:t=>{"use strict";t.exports=ReactDOM},811:function(t,s){var c,r,a;(function(u,o){if(1)r=[s,t],c=o,a=typeof c=="function"?c.apply(s,r):c,a!==void 0&&(t.exports=a);else var l})(this,function(u,o){"use strict";var l={timeout:5e3,jsonpCallback:"callback",jsonpCallbackFunction:null};function d(){return"jsonp_"+Date.now()+"_"+Math.ceil(Math.random()*1e5)}function i(g){try{delete window[g]}catch{window[g]=void 0}}function m(g){var f=document.getElementById(g);f&&document.getElementsByTagName("head")[0].removeChild(f)}function h(g){var f=arguments.length<=1||arguments[1]===void 0?{}:arguments[1],v=g,A=f.timeout||l.timeout,C=f.jsonpCallback||l.jsonpCallback,w=void 0;return new Promise(function(F,R){var y=f.jsonpCallbackFunction||d(),P=C+"_"+y;window[y]=function(p){F({ok:!0,json:function(){return Promise.resolve(p)}}),w&&clearTimeout(w),m(P),i(y)},v+=v.indexOf("?")===-1?"?":"&";var n=document.createElement("script");n.setAttribute("src",""+v+C+"="+y),f.charset&&n.setAttribute("charset",f.charset),f.nonce&&n.setAttribute("nonce",f.nonce),f.referrerPolicy&&n.setAttribute("referrerPolicy",f.referrerPolicy),f.crossorigin&&n.setAttribute("crossorigin","true"),n.id=P,document.getElementsByTagName("head")[0].appendChild(n),w=setTimeout(function(){R(new Error("JSONP request to "+g+" timed out")),i(y),m(P),window[y]=function(){i(y)}},A),n.onerror=function(){R(new Error("JSONP request to "+g+" failed")),i(y),m(P),w&&clearTimeout(w)}})}o.exports=h})}},x={};function e(t){var s=x[t];if(s!==void 0)return s.exports;var c=x[t]={exports:{}};return j[t].call(c.exports,c,c.exports,e),c.exports}e.m=j,e.n=t=>{var s=t&&t.__esModule?()=>t.default:()=>t;return e.d(s,{a:s}),s},e.d=(t,s)=>{for(var c in s)e.o(s,c)&&!e.o(t,c)&&Object.defineProperty(t,c,{enumerable:!0,get:s[c]})},e.f={},e.e=t=>Promise.all(Object.keys(e.f).reduce((s,c)=>(e.f[c](t,s),s),[])),e.u=t=>""+{118:"marketingCodeAtmosphere",131:"marketingWapAtmosphere",338:"marketingPcAtmosphere",351:"marketingWapSavingBoosterAtmosphere",392:"marketingWapCodeAtmosphere",547:"marketingWapAtmosphereFloor",560:"marketingPcSavingBoosterAtmosphere",679:"marketingPcIncentiveSgAtmosphere",768:"marketingPcAtmosphereFloor",856:"marketingWapIncentiveSgAtmosphere",982:"marketingPcFirstOrderPopup"}[t]+".js",e.miniCssF=t=>""+{118:"marketingCodeAtmosphere",131:"marketingWapAtmosphere",338:"marketingPcAtmosphere",351:"marketingWapSavingBoosterAtmosphere",392:"marketingWapCodeAtmosphere",547:"marketingWapAtmosphereFloor",560:"marketingPcSavingBoosterAtmosphere",679:"marketingPcIncentiveSgAtmosphere",768:"marketingPcAtmosphereFloor",856:"marketingWapIncentiveSgAtmosphere",982:"marketingPcFirstOrderPopup"}[t]+".chunk.css",e.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),e.o=(t,s)=>Object.prototype.hasOwnProperty.call(t,s),(()=>{var t={},s="marketing-render-sdk:";e.l=(c,r,a,u)=>{if(t[c]){t[c].push(r);return}var o,l;if(a!==void 0)for(var d=document.getElementsByTagName("script"),i=0;i<d.length;i++){var m=d[i];if(m.getAttribute("src")==c||m.getAttribute("data-webpack")==s+a){o=m;break}}o||(l=!0,o=document.createElement("script"),o.charset="utf-8",o.timeout=120,e.nc&&o.setAttribute("nonce",e.nc),o.setAttribute("data-webpack",s+a),o.src=c),t[c]=[r];var h=(f,v)=>{o.onerror=o.onload=null,clearTimeout(g);var A=t[c];if(delete t[c],o.parentNode&&o.parentNode.removeChild(o),A&&A.forEach(C=>C(v)),f)return f(v)},g=setTimeout(h.bind(null,void 0,{type:"timeout",target:o}),12e4);o.onerror=h.bind(null,o.onerror),o.onload=h.bind(null,o.onload),l&&document.head.appendChild(o)}})(),e.r=t=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},(()=>{var t;e.g.importScripts&&(t=e.g.location+"");var s=e.g.document;if(!t&&s&&(s.currentScript&&s.currentScript.tagName.toUpperCase()==="SCRIPT"&&(t=s.currentScript.src),!t)){var c=s.getElementsByTagName("script");if(c.length)for(var r=c.length-1;r>-1&&(!t||!/^http(s?):/.test(t));)t=c[r--].src}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/^blob:/,"").replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),e.p=t})(),(()=>{if(!(typeof document>"u")){var t=(a,u,o,l,d)=>{var i=document.createElement("link");i.rel="stylesheet",i.type="text/css",e.nc&&(i.nonce=e.nc);var m=h=>{if(i.onerror=i.onload=null,h.type==="load")l();else{var g=h&&h.type,f=h&&h.target&&h.target.href||u,v=new Error("Loading CSS chunk "+a+` failed.
(`+g+": "+f+")");v.name="ChunkLoadError",v.code="CSS_CHUNK_LOAD_FAILED",v.type=g,v.request=f,i.parentNode&&i.parentNode.removeChild(i),d(v)}};return i.onerror=i.onload=m,i.href=u,o?o.parentNode.insertBefore(i,o.nextSibling):document.head.appendChild(i),i},s=(a,u)=>{for(var o=document.getElementsByTagName("link"),l=0;l<o.length;l++){var d=o[l],i=d.getAttribute("data-href")||d.getAttribute("href");if(d.rel==="stylesheet"&&(i===a||i===u))return d}for(var m=document.getElementsByTagName("style"),l=0;l<m.length;l++){var d=m[l],i=d.getAttribute("data-href");if(i===a||i===u)return d}},c=a=>new Promise((u,o)=>{var l=e.miniCssF(a),d=e.p+l;if(s(l,d))return u();t(a,d,null,u,o)}),r={375:0};e.f.miniCss=(a,u)=>{var o={118:1,131:1,338:1,351:1,392:1,547:1,560:1,679:1,768:1,856:1,982:1};r[a]?u.push(r[a]):r[a]!==0&&o[a]&&u.push(r[a]=c(a).then(()=>{r[a]=0},l=>{throw delete r[a],l}))}}})(),(()=>{var t={375:0};e.f.j=(r,a)=>{var u=e.o(t,r)?t[r]:void 0;if(u!==0)if(u)a.push(u[2]);else{var o=new Promise((m,h)=>u=t[r]=[m,h]);a.push(u[2]=o);var l=e.p+e.u(r),d=new Error,i=m=>{if(e.o(t,r)&&(u=t[r],u!==0&&(t[r]=void 0),u)){var h=m&&(m.type==="load"?"missing":m.type),g=m&&m.target&&m.target.src;d.message="Loading chunk "+r+` failed.
(`+h+": "+g+")",d.name="ChunkLoadError",d.type=h,d.request=g,u[1](d)}};e.l(l,i,"chunk-"+r,r)}};var s=(r,a)=>{var[u,o,l]=a,d,i,m=0;if(u.some(g=>t[g]!==0)){for(d in o)e.o(o,d)&&(e.m[d]=o[d]);if(l)var h=l(e)}for(r&&r(a);m<u.length;m++)i=u[m],e.o(t,i)&&t[i]&&t[i][0](),t[i]=0},c=self.webpackChunkmarketing_render_sdk=self.webpackChunkmarketing_render_sdk||[];c.forEach(s.bind(null,0)),c.push=s.bind(null,c.push.bind(c))})();var T={};(()=>{"use strict";const t=/^(https?:)?\/\/(.+)\/sc\/(.*)icbu-marketing\/([\d.]+)\/render\.js$/;function s(){if(document.currentScript)return document.currentScript.src.match(t);{const n=document.querySelectorAll("script[src]");for(let p=n.length-1;p>=0;p--){const _=n[p].src.match(t);if(_)return _}}}function c(){const n=s();return n?`https://${n[2]}/sc/icbu-marketing/${n[4]}/`:"/build/"}try{e.p=c(),window.__ug_incentive_public_path__=c()}catch(n){console.error(n)}var r=e(39),a=e.n(r),u=e(171),o=e(811),l=e.n(o);const d=()=>{const n=window.location.host.match(/(.*?).alibaba\.(.*?)$/);return n&&n.length>=3?n[2]:"com"};function i(){return fetch("//s.alicdn.com/@xconfig/icbu_marketing/popup/whitemap").then(n=>n.json())}function m({sceneCode:n,timeZone:p,bizData:_={}}){return l()(`//ug.alibaba.${d()}/api/ags/incentive/getCreativeIncentive.json?sceneCode=${n}&timeZone=${p}&bizData=${JSON.stringify(_)}`).then(b=>b.json()).then(b=>(console.log("\u5F02\u6B65\u6E32\u67D3\u8425\u9500\u6C1B\u56F4\u6570\u636E-",b),b))}function h(n,p){return new Promise((_,b)=>{const k=document.createElement("script");k.src=n,p?k.defer=!0:k.async=!0,k.onload=()=>{_()},k.onerror=()=>{b(new Error(`loadJsError:${n}`))},document.head.appendChild(k)})}function g(){const n="1.0.11";return fetch("//s.alicdn.com/@xconfig/icbu_marketing/popup/render_version").then(p=>p.json()).then(({renderVersion:p=n})=>p).catch(()=>n)}function f(){const n=document?.querySelector('meta[name="data-spm"]')?.getAttribute("content")||"a2706",p=document?.body?.dataset?.spm;return`${n}.${p}`}const A={marketingPcAtmosphere:(0,r.lazy)(()=>e.e(338).then(e.bind(e,682))),marketingWapAtmosphere:(0,r.lazy)(()=>e.e(131).then(e.bind(e,305))),marketingWapAtmosphereFloor:(0,r.lazy)(()=>e.e(547).then(e.bind(e,121))),marketingPcAtmosphereFloor:(0,r.lazy)(()=>e.e(768).then(e.bind(e,337))),marketingPcFirstOrderPopup:(0,r.lazy)(()=>e.e(982).then(e.bind(e,448))),marketingCodeAtmosphere:(0,r.lazy)(()=>e.e(118).then(e.bind(e,526))),marketingWapCodeAtmosphere:(0,r.lazy)(()=>e.e(392).then(e.bind(e,925))),marketingPcIncentiveSgAtmosphere:(0,r.lazy)(()=>e.e(679).then(e.bind(e,879))),marketingWapIncentiveSgAtmosphere:(0,r.lazy)(()=>e.e(856).then(e.bind(e,974))),marketingWapSavingBoosterAtmosphere:(0,r.lazy)(()=>e.e(351).then(e.bind(e,393))),marketingPcSavingBoosterAtmosphere:(0,r.lazy)(()=>e.e(560).then(e.bind(e,328)))},C=window?.ReactDOM?.createRoot;function w(n){return new Promise((p,_)=>{const b=`${window?.__ug_incentive_public_path__||"https://s.alicdn.com/@g/icbu-marketing/1.1.2/"}${n}`;if(document.querySelector(`link[href="${b}"]`)){p();return}const S=document.createElement("link");S.rel="stylesheet",S.href=b,S.onload=()=>p(),S.onerror=()=>_(new Error(`Failed to load CSS: ${b}`)),document.head.appendChild(S)})}function F(n,p){C?(0,u.createRoot)(n).render(p):window?.ReactDOM.render(p,n)}async function R(){const{whiteMap:n={}}=await i(),p=n[f()];if(!p)return;const _=document.createElement("div");_.id="icbu-marketing-popup-container",document.body.appendChild(_);const b=A.marketingPcFirstOrderPopup;try{await w("marketingPcFirstOrderPopup.chunk.css")}catch(k){console.warn("Failed to load component CSS",k)}F(_,a().createElement(r.Suspense,{fallback:a().createElement(a().Fragment,null)},a().createElement(b,{...p})))}function y(n){if(!n||!n?.dotScene||!n?.componentsList)return console.error(n,"\u5982\u4E0Arender\u5FC5\u4F20\u53C2\u6570\u4E3A\u7A7A\uFF0C\u8BF7\u6309\u7167\u6587\u6863\u66F4\u6539 https://aliyuque.antfin.com/growth-tech/cdx2z7/bbu5pdubf57n3q8s#LZ4EQ");const{dotScene:p,componentsList:_}=n;_.forEach(b=>{const{domId:k,comId:S,props:E,sceneCode:M}=b,B=async O=>{if(O){const D=document.getElementById(k);if(!D)return console.error(`${k} is not exist`);E?.onShow&&E.onShow();const $=A[S];if(!$)return console.error(`${S} is not exist`);try{await w(`${S}.chunk.css`)}catch(W){console.warn(`Failed to load CSS for component ${S}`,W)}F(D,a().createElement(r.Suspense,{fallback:a().createElement(a().Fragment,null)},a().createElement($,{...E,comData:O,dotScene:p,sceneCode:M})))}};if(E?.comData)return B(E?.comData);m({sceneCode:M,timeZone:Intl.DateTimeFormat().resolvedOptions().timeZone}).then(O=>{const D=O?.object?.materialInfo||E?.comData;B(D)})})}function P(){R(),window.IcbuMarketingSDK={render:y}}P()})()})();})();
